# WebCalculator_Go
Данный проект это веб-сервис, который вычисляет арифметические выражения, отправленные пользователем по HTTP-запросу, также сервис можно запустить в консольном режиме, чтобы вычислять выражения, введённые пользователем вручную.

## Содержание
- [Описание](#описание)
- [Запуск проекта](#запуск-проекта)
- [Примеры](#примеры)

## Описание

В данном проекте на данный момент реализован один эндпоинит:
### POST `/api/v1/calculate`
с форматом запроса:
```json
{
  "expression": "ваше_выражение"
}
```
В ответ на запрос пользователь получает ответ в формате:

1) При успехе (код 200):
```json
{
  "result": "вычисленный_результат"
}
```
2) При ошибке ввода пользователем (код 422):
```json
{
  "error": "Expression is not valid"
}
```
3) В случае любой другой ошибки (код 500):
```json
{
  "error": "Internal server error"
}
```

## Запуск проекта

1. Склонировать репозиторий 
```sh
git clone git@github.com:nmizern/calc_lyceum_go.git
cd calc_lyceum_go
```

2. Запустить приложение командой:
```sh
go run ./cmd/main.go
```
Сервис по умолчанию слушает на порту 8080 (или на порту, заданном в переменной окружения PORT).

## Примеры использования

Ниже примеры с использованием curl для различных сценариев:
```sh
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2*2"
}'
```
Ожидаемый вывод (код 200)
```json
{
  "result": "6.000000"
}
```

```sh
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2a"
}'
```
Ожидаемый вывод (код 442)
```json
{
  "error": "Expression is not valid"
}
```









